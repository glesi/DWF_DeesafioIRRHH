<div class="container">
  <div class="table-wrapper">
    <div class="table-title">
      <div class="row ">
        <div class="col-sm-6">
          <h2>Manage Departamentos</h2>
        </div>
        <div class="col-sm-5">
          <a href="#addTCModal" class="btn btn-success" data-toggle="modal"><i class="material-icons">&#xE147;</i> <span>Agregar</span></a>
          <!--          <a href="#deleteTCModal" class="btn btn-danger" data-toggle="modal"><i class="material-icons">&#xE15C;</i> <span>Borrar</span></a>-->
        </div>
      </div>
    </div>
  </div>
  <table class="table table-striped table-hover text-center">
    <thead>
    <tr>
      <th class="text-center">ID</th>
      <th class="text-center">Departamento</th>
      <th class="text-center">Descripcion</th>
      <th class="text-center">Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let departamento of departamentos" id="'tablaDepartamentos'">
      <td>{{departamento.idDepartamento}}</td>
      <td>{{departamento.nombreDepartamento}}</td>
      <td>{{departamento.descripcionDepartamento}}</td>
      <td>
        <a href="#editTCModal"
           class="edit"
           data-toggle="modal"
           (click)="onCheckBoxChange($event,departamento.idDepartamento)">
          <i class="material-icons" data-toggle="tooltip" title="Edit">&#xE254;</i></a>
        <a href="#deleteTCModal"
           class="delete"
           data-toggle="modal"
           (click)="onCheckBoxChange($event,departamento.idDepartamento)">
          <i class="material-icons" data-toggle="tooltip" title="Delete">&#xE872;</i></a>

      </td>
    </tr>
    </tbody>
  </table>
  <!--Modal para agregar departamento-->
  <div id="addTCModal" class="modal fade">
    <div class="modal-dialog">
      <div class="modal-content">
        <form (ngSubmit)="saveDepartamento()">
          <div class="modal-header">
            <h4 class="modal-title">Agregar Departamento</h4>
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          </div>
          <div class="modal-body">
            <div class="form-group">
              <label>Departamento</label>
              <input type="text" class="form-control"
                     [(ngModel)]="departamentoSend.nombreDepartamento"
                     name="contratracionesSend"
                     id="nombre"
                     required>
              <label>Descripcion</label>
              <input type="text" class="form-control"
                     [(ngModel)]="departamentoSend.descripcionDepartamento"
                     name="contratracionesSend"
                     id="descripcion"
                     required>
            </div>
          </div>
          <div class="modal-footer">
            <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancelar">
            <input type="submit" class="btn btn-success" value="Agregar">
          </div>
        </form>
      </div>
    </div>
  </div>
  <!--  Modal para borrar departamento-->
  <div id="deleteTCModal" class="modal fade">
    <div class="modal-dialog">
      <div class="modal-content">
        <form>
          <div class="modal-header">
            <h4 class="modal-title">Borrar departamento</h4>
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          </div>
          <div class="modal-body">
            <p>Esta seguro que quiere borrar el departamento</p>
            <p class="text-warning"><small>This action cannot be undone.</small></p>
          </div>
          <div class="modal-footer">
            <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
            <input type="submit"
                   class="btn btn-danger"
                   value="Delete"
                   (click)="deleteDepartamento()">
          </div>
        </form>
      </div>
    </div>
  </div>
  <!--Modal para editar campos existentes-->
  <div id="editTCModal" class="modal fade">
    <div class="modal-dialog">
      <div class="modal-content">
        <form (ngSubmit)="updateDepartamento()">
          <div class="modal-header">
            <h4 class="modal-title">Edit: {{departamentoSend.nombreDepartamento}}</h4>
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          </div>
          <div class="modal-body">
            <div id="tc-m"
                 class="form-group">
              <label>Departamento </label>
              <input type="text"
                     class="form-control"
                     required
                     [(ngModel)]="departamentoSend.nombreDepartamento"
                     name="departamento-edit">
              <label>Descripcion</label>
              <input type="text"
                     class="form-control"
                     required
                     [(ngModel)]="departamentoSend.descripcionDepartamento"
                     name="descripcion-edit">
            </div>
          </div>
          <div class="modal-footer">
            <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancelar">
            <input type="submit"
                   class="btn btn-info"
                   value="Editar">
          </div>
        </form>
      </div>
    </div>
  </div>
</div>


